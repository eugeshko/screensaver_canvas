function getRandomInt(t,a){return Math.floor(Math.random()*(a-t+1))+t}function getRandomPos(t){var a=["left","right","up","down"];do var i=a[getRandomInt(0,3)];while(i==t);return i}function $(t){return document.getElementById(t)}function addGirl(t){childs[t]={at:getRandomPos(),w:48,h:48,fh:48,x:getRandomInt(0,ctxW-48),y:getRandomInt(0,ctxH-48)},animate[t]={right:{el:null,src:"assets/ada_right.png",type:0,step:0,speed:1,curr:0,steps:3},left:{el:null,src:"assets/ada_left.png",type:0,step:0,speed:3,curr:0,steps:3},up:{el:null,src:"assets/ada_down.png",type:0,step:0,speed:3,curr:0,steps:3},down:{el:null,src:"assets/ada_up.png",type:0,step:0,speed:3,curr:0,steps:3}}}function initAnimation(){for(var t=getRandomInt(10,100),a=0;t>a;a++)addGirl(a);for(var i in childs)for(var e in animate[i]){var n=new Image;n.src=animate[i][e].src,animate[i][e].el=n}}function startAnimation(){setInterval(function(){var t=new Image;t.src="http://img806.imageshack.us/img806/8718/bigbrothertileinteracti.png",ctx.save(),ctx.drawImage(t,0,0,ctxW,ctxH),ctx.restore();for(var a in childs)if(animate[a]){var i=animate[a][childs[a].at].step;"left"==childs[a].at&&(childs[a].x-=childs[a].w/4),"right"==childs[a].at&&(childs[a].x+=childs[a].w/4),"up"==childs[a].at&&(childs[a].y+=childs[a].w/4),"down"==childs[a].at&&(childs[a].y-=childs[a].w/4),childs[a].x<=0&&(childs[a].at=getRandomPos("left")),childs[a].x>=ctxW-48&&(childs[a].at=getRandomPos("right")),childs[a].y<=0&&(childs[a].at=getRandomPos("down")),childs[a].y>=ctxH-48&&(childs[a].at=getRandomPos("up")),ctx.drawImage(animate[a][childs[a].at].el,0,Math.round(childs[a].fh*i),childs[a].w,childs[a].h,childs[a].x,childs[a].y,childs[a].w,childs[a].h),animate[a][childs[a].at].curr>=animate[a][childs[a].at].speed&&(animate[a][childs[a].at].step>=animate[a][childs[a].at].steps?(animate[a][childs[a].at].step=0,childs[a].at=getRandomPos()):animate[a][childs[a].at].step++,animate[a][childs[a].at].curr=0),animate[a][childs[a].at].curr++}},62.5)}var ctx=$("cnv").getContext("2d");ctx.canvas.width=window.innerWidth,ctx.canvas.height=window.innerHeight;var childs={},animate={},ctxH=window.innerHeight,ctxW=window.innerWidth;initAnimation(),startAnimation();